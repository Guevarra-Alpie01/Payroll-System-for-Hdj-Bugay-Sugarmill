{% extends 'base.html'%}
{% load static %}
{% block content %}



<p>
    <a href="{% url 'humanresource:payroll_upload' %}" style="background-color: #6c757d; color: white; padding: 5px 10px; text-decoration: none; border-radius: 3px;">
        ‚Üê Back
    </a>
</p>
<h2>üìã Time Logs for {{ employee_name }} (ID: {{ employee_id }})</h2>

<hr>

<div class="time-log-summary">
    <h3>Daily Time Record Summary</h3>
    
    {% if daily_summary %}
        <table borders="1" style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                    <th>Date</th>
                    <th>Day Shift (0->3)</th>
                    <th>Night Shift (2->3)</th>
                    <th>Graveyard Shift (0->1)</th>
                    <th>Total Work Hours</th> 
                    <th>Total Late Minutes</th> 
                </tr>
            </thead>
            <tbody>
                {% for log in daily_summary %}
                    <tr>
                        <td><strong>{{ log.date|date:"Y-m-d (D)" }}</strong></td>

                        <td style="text-align: center;">
                            {{ log.day_shift_hours|default:"0:00:00" }}
                        </td>

                        <td style="text-align: center;">
                            {{ log.night_shift_hours|default:"0:00:00" }}
                        </td>
                        
                        <td style="text-align: center;">
                            {{ log.graveyard_shift_hours|default:"0:00:00" }}
                        </td>
                        
                        <td style="text-align: center; font-weight: bold;">
                            {{ log.total_hours|default:"0:00:00" }}
                        </td>
                        
                        <td style="text-align: center; font-weight: bold; color: {% if log.total_minutes_late > 0 %}red {% else %} green {% endif %};">
                            {{ log.total_minutes_late }}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No processed time logs available for this employee.</p>
    {% endif %}

</div>

{% endblock %}